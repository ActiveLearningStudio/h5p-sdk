{"version":3,"sources":["webpack:///webpack/bootstrap 26159713ac8f5fcca732","webpack:///./src/entries/dist.js","webpack:///./src/scripts/components/panel.js","webpack:///./src/scripts/utils/elements.js","webpack:///./src/scripts/utils/functional.js","webpack:///./src/scripts/components/tab-panel.js"],"names":["H5P","sdk","initPanel","require","default","initTabPanel","init","isExpanded","hide","show","toggleBodyVisibility","bodyElement","style","height","scrollHeight","onAriaExpandedChange","event","target","element","titleEl","querySelector","bodyId","getAttribute","bodyEl","observer","MutationObserver","observe","attributes","attributeOldValue","attributeFilter","addEventListener","name","el","setAttribute","value","removeAttribute","hasAttribute","attributeEquals","toggleAttribute","appendChild","parent","child","selector","querySelectorAll","curry","fn","arity","length","f1","args","Array","prototype","slice","call","arguments","apply","f2","args2","concat","compose","fns","reduce","f","g","forEach","arr","map","filter","some","contains","indexOf","without","values","inverseBooleanString","bool","toString","hideAll","unSelectAll","tabs","tabPanels","tab","tabPanelId"],"mappings":"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","file":"h5p-sdk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 26159713ac8f5fcca732","// Load library\nH5P = H5P || {};\nH5P.sdk = H5P.sdk || {};\nH5P.sdk.initPanel = require('../scripts/components/panel').default;\nH5P.sdk.initTabPanel = require('../scripts/components/tab-panel').default;\n\n\n// WEBPACK FOOTER //\n// ./src/entries/dist.js","import {setAttribute, attributeEquals, toggleAttribute} from '../utils/elements';\nimport {curry, forEach} from '../utils/functional';\n\n/**\n * @type {function}\n */\nconst isExpanded = attributeEquals(\"aria-expanded\", 'true');\n\n/**\n * @type {function}\n */\nconst hide = setAttribute('aria-hidden', 'true');\n\n/**\n * @type {function}\n */\nconst show = setAttribute('aria-hidden', 'false');\n\n/**\n * Toggles the body visibility\n *\n * @param {HTMLElement} bodyElement\n * @param {boolean} isExpanded\n */\nconst toggleBodyVisibility = function(bodyElement, isExpanded) {\n  if(isExpanded) {\n    show(bodyElement);\n    bodyElement.style.height = `${bodyElement.scrollHeight}px`;\n  }\n  else {\n    hide(bodyElement);\n    bodyElement.style.height = \"0\";\n  }\n};\n\n/**\n * Handles changes to aria-expanded\n *\n * @param {HTMLElement} bodyElement\n * @param {MutationRecord} event\n *\n * @function\n */\nconst onAriaExpandedChange = curry(function(bodyElement, event) {\n  toggleBodyVisibility(bodyElement, isExpanded(event.target));\n});\n\n/**\n * Initializes a panel\n *\n * @param {HTMLElement} element\n * @return {HTMLElement}\n */\nexport default function init(element) {\n  const titleEl = element.querySelector('[aria-expanded]');\n  const bodyId = titleEl.getAttribute('aria-controls');\n  const bodyEl = element.querySelector(`#${bodyId}`);\n\n  if(titleEl) {\n    // set observer on title for aria-expanded\n    let observer = new MutationObserver(forEach(onAriaExpandedChange(bodyEl)));\n\n    observer.observe(titleEl, {\n      attributes: true,\n      attributeOldValue: true,\n      attributeFilter: [\"aria-expanded\"]\n    });\n\n    // Set click listener that toggles aria-expanded\n    titleEl.addEventListener('click', function(event) {\n      toggleAttribute(\"aria-expanded\", event.target);\n    });\n\n    toggleBodyVisibility(bodyEl, isExpanded(titleEl));\n  }\n\n  return element;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/panel.js","import {curry, inverseBooleanString} from './functional'\n\n/**\n * Get an attribute value from element\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n * @return {string}\n */\nexport const getAttribute = curry(function (name, el) {\n  return el.getAttribute(name);\n});\n\n/**\n * Set an attribute on a html element\n *\n * @param {string} name\n * @param {string} value\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const setAttribute = curry(function (name, value, el) {\n  el.setAttribute(name, value);\n});\n\n/**\n * Remove attribute from html element\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const removeAttribute = curry(function (name, el) {\n  el.removeAttribute(name);\n});\n\n/**\n * Check if element has an attribute\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n * @return {boolean}\n */\nexport const hasAttribute = curry(function (name, el) {\n  return el.hasAttribute(name);\n});\n\n/**\n * Check if element has an attribute that equals\n *\n * @param {string} name\n * @param {string} value\n * @param {HTMLElement} el\n *\n * @function\n * @return {boolean}\n */\nexport const attributeEquals = curry(function (name, value, el) {\n  return el.getAttribute(name) === value;\n});\n\n/**\n * Toggles an attribute between 'true' and 'false';\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const toggleAttribute = curry(function (name, el) {\n  const value = getAttribute(name, el);\n  setAttribute(name, inverseBooleanString(value), el);\n});\n\n/**\n * The appendChild() method adds a node to the end of the list of children of a specified parent node.\n *\n * @param {HTMLElement} parent\n * @param {HTMLElement} child\n *\n * @function\n * @return {HTMLElement}\n */\nexport const appendChild = curry(function (parent, child) {\n  return parent.appendChild(child);\n});\n\n/**\n * Returns the first element that is a descendant of the element on which it is invoked\n * that matches the specified group of selectors.\n *\n * @param {string} selector\n * @param {HTMLElement} el\n *\n * @function\n * @return {HTMLElement}\n */\nexport const querySelector = curry(function (selector, el) {\n  return el.querySelector(selector);\n});\n\n/**\n * Returns a non-live NodeList of all elements descended from the element on which it\n * is invoked that matches the specified group of CSS selectors.\n *\n * @param {string} selector\n * @param {HTMLElement} el\n *\n * @function\n * @return {NodeList}\n */\nexport const querySelectorAll = curry(function (selector, el) {\n  return el.querySelectorAll(selector);\n});\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/elements.js","/**\n * Returns a curried version of a function\n *\n * @param {function} fn\n *\n * @public\n *\n * @return {function}\n */\nexport const curry = function(fn) {\n  const arity = fn.length;\n\n  return function f1() {\n    const args = Array.prototype.slice.call(arguments, 0);\n    if (args.length >= arity) {\n      return fn.apply(null, args);\n    }\n    else {\n      return function f2() {\n        const args2 = Array.prototype.slice.call(arguments, 0);\n        return f1.apply(null, args.concat(args2));\n      }\n    }\n  };\n};\n\n/**\n * Compose functions together, executing from right to left\n *\n * @param {function...} fns\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const compose = (...fns) => fns.reduce((f, g) => (...args) => f(g(...args)));\n\n/**\n * Applies a function to each element in an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const forEach = curry(function (fn, arr) {\n  arr.forEach(fn);\n});\n\n/**\n * Maps a function to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const map = curry(function (fn, arr) {\n  return arr.map(fn);\n});\n\n/**\n * Applies a filter to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const filter = curry(function (fn, arr) {\n  return arr.filter(fn);\n});\n\n/**\n * Applies a some to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const some = curry(function (fn, arr) {\n  return arr.some(fn);\n});\n\n/**\n * Returns true if an array contains a value\n *\n * @param {*} value\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const contains = curry(function (value, arr) {\n  return arr.indexOf(value) != -1;\n});\n\n/**\n * Returns an array without the supplied values\n *\n * @param {Array} values\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const without = curry(function (values, arr) {\n  return filter(value => !contains(value, values), arr)\n});\n\n/**\n * Takes a string that is either 'true' or 'false' and returns the opposite\n *\n * @param {string} bool\n *\n * @public\n * @return {string}\n */\nexport const inverseBooleanString = function (bool) {\n  return (bool !== 'true').toString();\n};\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/functional.js","import {setAttribute} from '../utils/elements';\nimport {forEach} from '../utils/functional';\n\n/**\n * @type {function}\n */\nconst hideAll = forEach(setAttribute('aria-hidden', 'true'));\n\n/**\n * @type {function}\n */\nconst show = setAttribute('aria-hidden', 'false');\n\n/**\n * @type {function}\n */\nconst unSelectAll = forEach(setAttribute('aria-selected', 'false'));\n\n/**\n * Initiates a tab panel\n *\n * @param {HTMLElement} element\n */\nexport default function init(element) {\n  const tabs = element.querySelectorAll('[role=\"tab\"]');\n  const tabPanels = element.querySelectorAll('[role=\"tabpanel\"]');\n\n  tabs.forEach(tab => {\n    tab.addEventListener('click', function (event) {\n\n      unSelectAll(tabs);\n      event.target.setAttribute('aria-selected', 'true');\n\n      hideAll(tabPanels);\n\n      let tabPanelId = event.target.getAttribute('aria-controls');\n      show(element.querySelector(`#${tabPanelId}`));\n    });\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/tab-panel.js"],"sourceRoot":""}
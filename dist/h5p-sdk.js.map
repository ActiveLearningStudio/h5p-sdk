{"version":3,"sources":["webpack:///webpack/bootstrap 65f6306906c3e8dbd73e","webpack:///./src/scripts/utils/elements.js","webpack:///./src/scripts/utils/functional.js","webpack:///./src/scripts/utils/keyboard.js","webpack:///./src/scripts/utils/collapsible.js","webpack:///./src/scripts/components/image-lightbox.js","webpack:///./src/scripts/components/image-scroller.js","webpack:///./src/scripts/components/modal.js","webpack:///./src/scripts/components/navbar.js","webpack:///./src/scripts/components/panel.js","webpack:///./src/scripts/components/tab-panel.js","webpack:///./src/scripts/components/upload-form.js","webpack:///./src/styles/main.scss","webpack:///./src/entries/dist.js"],"names":["getAttribute","name","el","setAttribute","value","removeAttribute","hasAttribute","attributeEquals","toggleAttribute","appendChild","parent","child","querySelector","selector","nodeListToArray","Array","prototype","slice","call","nodeList","querySelectorAll","removeChild","oldChild","classListContains","cls","classList","contains","hide","show","toggleVisibility","visible","element","toggleClass","add","curry","fn","arity","length","f1","args","arguments","apply","f2","args2","concat","compose","fns","reduce","f","g","forEach","arr","map","filter","some","indexOf","without","values","inverseBooleanString","bool","toString","addTabIndex","removeTabIndex","removeTabIndexForAll","hasTabIndex","updateTabbable","elements","index","selectedElement","nextIndex","currentIndex","lastIndex","previousIndex","Keyboard","boundHandleKeyDown","handleKeyDown","bind","boundHandleFocus","handleFocus","selectedIndex","push","addEventListener","removeEventListener","event","hasElement","target","which","select","preventDefault","focus","srcElement","onSelect","undefined","isExpanded","initCollapsible","targetHandler","togglerSelector","togglers","collapsibleId","toggler","collapsible","observer","MutationObserver","observe","attributes","attributeOldValue","attributeFilter","init","ATTRIBUTE_SHOW","KEY","TAB","ENTER","SHIFT","SPACE","TAB_DIRECTION","FORWARD","BACKWARD","remove","live","enable","tabIndex","disable","isDisabled","toggleDisabled","force","toggleHidden","showImageLightbox","imageIndex","hideLightbox","i","toggleSiblings","siblings","parentNode","children","sibling","progressTemplateText","updateView","state","images","progress","prevButton","nextButton","image","currentImage","innerText","replace","onNavigationButtonClick","button","onButtonPress","handler","keysDown","onButtonTab","direction","handleDomUpdate","keyboard","record","type","attributeName","showImage","parseInt","isNaN","closeButton","subtree","childList","ATTRIBUTE_SIZE","toggleEnabled","enabled","hidden","lightbox","list","totalCount","childElementCount","style","width","displayCount","marginLeft","position","updateState","initImage","targetId","lightBox","document","addElement","addedNodes","dismissButtons","unSelectAll","unExpand","onSelectMenuItem","menuItems","menuItem","elementIndex","forceSelectedIndex","expanded","hideAll","isSelected","addAriaSelectedObserver","tab","panelId","panel","allPanels","selectTab","allTabs","tabs","uploadInput","uploadPath","useButton","onchange","display","require","H5P","sdk","initPanel","default","initTabPanel","initNavbar","initImageScroller","initImageLightbox","initUploadForm","initModal"],"mappings":"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","file":"h5p-sdk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 65f6306906c3e8dbd73e","import {curry, inverseBooleanString} from './functional'\n\n/**\n * Get an attribute value from element\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n * @return {string}\n */\nexport const getAttribute = curry((name, el) => el.getAttribute(name));\n\n/**\n * Set an attribute on a html element\n *\n * @param {string} name\n * @param {string} value\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const setAttribute = curry((name, value, el) => el.setAttribute(name, value));\n\n/**\n * Remove attribute from html element\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const removeAttribute = curry((name, el) => el.removeAttribute(name));\n\n/**\n * Check if element has an attribute\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n * @return {boolean}\n */\nexport const hasAttribute = curry((name, el) => el.hasAttribute(name));\n\n/**\n * Check if element has an attribute that equals\n *\n * @param {string} name\n * @param {string} value\n * @param {HTMLElement} el\n *\n * @function\n * @return {boolean}\n */\nexport const attributeEquals = curry((name, value, el) => el.getAttribute(name) === value);\n\n/**\n * Toggles an attribute between 'true' and 'false';\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const toggleAttribute = curry((name, el) => {\n  const value = getAttribute(name, el);\n  setAttribute(name, inverseBooleanString(value), el);\n});\n\n/**\n * The appendChild() method adds a node to the end of the list of children of a specified parent node.\n *\n * @param {HTMLElement} parent\n * @param {HTMLElement} child\n *\n * @function\n * @return {HTMLElement}\n */\nexport const appendChild = curry((parent, child) => parent.appendChild(child));\n\n/**\n * Returns the first element that is a descendant of the element on which it is invoked\n * that matches the specified group of selectors.\n *\n * @param {string} selector\n * @param {HTMLElement} el\n *\n * @function\n * @return {HTMLElement}\n */\nexport const querySelector = curry((selector, el) => el.querySelector(selector));\n\n/**\n * Transforms a NodeList to an Array\n *\n * @param {NodeList} nodeList\n *\n * @return {Node[]}\n */\nexport const nodeListToArray = nodeList => Array.prototype.slice.call(nodeList);\n\n/**\n * Returns a non-live NodeList of all elements descended from the element on which it\n * is invoked that matches the specified group of CSS selectors.\n *\n * @param {string} selector\n * @param {HTMLElement} el\n *\n * @function\n * @return {Node[]}\n */\nexport const querySelectorAll = curry((selector, el) => nodeListToArray(el.querySelectorAll(selector)));\n\n/**\n * The removeChild() method removes a child node from the DOM. Returns removed node.\n *\n * @param {Node} parent\n * @param {Node} oldChild\n *\n * @return {Node}\n */\nexport const removeChild = curry((parent, oldChild) => parent.removeChild(oldChild));\n\n/**\n * Returns true if a node has a class\n *\n * @param {string} cls\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const classListContains = curry((cls, el) => el.classList.contains(cls));\n\n/**\n * Adds aria-hidden=true to an element\n *\n * @param {HTMLElement} element\n * @function\n */\nexport const hide = setAttribute('aria-hidden', 'true');\n\n/**\n * Adds aria-hidden=false to an element\n * @function\n */\nexport const show = setAttribute('aria-hidden', 'false');\n\n/**\n * Toggles aria-hidden on an element\n *\n * @param {boolean} visible\n * @param {HTMLElement} element\n */\nexport const toggleVisibility = curry((visible, element) => (visible ? show : hide)(element));\n\n/**\n * Toggles a class on an element\n *\n * @param {string} cls\n * @param {boolean} add\n * @param {HTMLElement} element\n */\nexport const toggleClass = curry((cls, add, element) => {\n  element.classList[add ? 'add' : 'remove'](cls)\n});\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/elements.js","/**\n * Returns a curried version of a function\n *\n * @param {function} fn\n *\n * @public\n *\n * @return {function}\n */\nexport const curry = function(fn) {\n  const arity = fn.length;\n\n  return function f1() {\n    const args = Array.prototype.slice.call(arguments, 0);\n    if (args.length >= arity) {\n      return fn.apply(null, args);\n    }\n    else {\n      return function f2() {\n        const args2 = Array.prototype.slice.call(arguments, 0);\n        return f1.apply(null, args.concat(args2));\n      }\n    }\n  };\n};\n\n/**\n * Compose functions together, executing from right to left\n *\n * @param {function...} fns\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const compose = (...fns) => fns.reduce((f, g) => (...args) => f(g(...args)));\n\n/**\n * Applies a function to each element in an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const forEach = curry(function (fn, arr) {\n  arr.forEach(fn);\n});\n\n/**\n * Maps a function to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const map = curry(function (fn, arr) {\n  return arr.map(fn);\n});\n\n/**\n * Applies a filter to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const filter = curry(function (fn, arr) {\n  return arr.filter(fn);\n});\n\n/**\n * Applies a some to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const some = curry(function (fn, arr) {\n  return arr.some(fn);\n});\n\n/**\n * Returns true if an array contains a value\n *\n * @param {*} value\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const contains = curry(function (value, arr) {\n  return arr.indexOf(value) != -1;\n});\n\n/**\n * Returns an array without the supplied values\n *\n * @param {Array} values\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const without = curry(function (values, arr) {\n  return filter(value => !contains(value, values), arr)\n});\n\n/**\n * Takes a string that is either 'true' or 'false' and returns the opposite\n *\n * @param {string} bool\n *\n * @public\n * @return {string}\n */\nexport const inverseBooleanString = function (bool) {\n  return (bool !== 'true').toString();\n};\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/functional.js","import { setAttribute, removeAttribute, hasAttribute } from './elements';\nimport { forEach, without } from './functional';\n\n/**\n * @param {HTMLElement} element\n * @function\n */\nconst addTabIndex = setAttribute('tabindex', '0');\n\n/**\n * @param {HTMLElement} element\n * @function\n */\nconst removeTabIndex = removeAttribute('tabindex');\n\n/**\n * @param {HTMLElement[]} elements\n * @function\n */\n\nconst removeTabIndexForAll = forEach(removeTabIndex);\n\n/**\n * @param {HTMLElement} element\n * @function\n */\nconst hasTabIndex = hasAttribute('tabindex');\n\n/**\n * Sets tabindex and focus on an element, remove it from all others\n *\n * @param {HTMLElement[]} elements\n * @param {number} index\n */\nconst updateTabbable = (elements, index) => {\n  const selectedElement = elements[index];\n\n  if(selectedElement) {\n    removeTabIndexForAll(elements);\n    addTabIndex(selectedElement);\n  }\n};\n\n/**\n * Sets tabindex on an element, remove it from all others\n *\n * @param {number} currentIndex\n * @param {number} lastIndex\n *\n * @return {number}\n */\nconst nextIndex = (currentIndex, lastIndex) => (currentIndex === lastIndex) ? 0 : (currentIndex + 1);\n\n/**\n * Sets tabindex on an element, remove it from all others\n *\n * @param {number} currentIndex\n * @param {number} lastIndex\n *\n * @return {number}\n */\nconst previousIndex = (currentIndex, lastIndex) => (currentIndex === 0) ? lastIndex : (currentIndex - 1);\n\n/**\n * @class\n */\nexport default class Keyboard {\n  constructor() {\n    /**\n     * @property {HTMLElement[]} elements\n     */\n    this.elements = [];\n    /**\n     * Creates a bound key handler, that can be removed\n     * @property {function} boundHandleKeyDown\n     */\n    this.boundHandleKeyDown = this.handleKeyDown.bind(this);\n    this.boundHandleFocus = this.handleFocus.bind(this);\n    /**\n     * @property {number} selectedIndex\n     */\n    this.selectedIndex = 0;\n  }\n\n  /**\n   * Add keyboard support to an element\n   *\n   * @param {HTMLElement} element\n   *\n   * @public\n   * @return {HTMLElement}\n   */\n  addElement(element) {\n    this.elements.push(element);\n    element.addEventListener('keydown', this.boundHandleKeyDown);\n    element.addEventListener('focus', this.boundHandleFocus);\n\n    if (this.elements.length === 1) { // if first\n      addTabIndex(element);\n    }\n\n    return element\n  };\n\n  /**\n   * Add controls to an element\n   *\n   * @param {HTMLElement} element\n   *\n   * @public\n   * @return {HTMLElement}\n   */\n  removeElement(element) {\n    this.elements = without([element], this.elements);\n\n    element.removeEventListener('keydown', this.boundHandleKeyDown);\n    element.removeEventListener('focus', this.boundHandleFocus);\n\n    // if removed element was selected\n    if(hasTabIndex(element)) {\n      removeTabIndex(element);\n\n      this.selectedIndex = 0;\n      updateTabbable(this.elements, this.selectedIndex);\n    }\n\n    return element;\n  };\n\n  /**\n   * Handles key down, and updates the tab index\n   *\n   * @param {KeyboardEvent} event Keyboard event\n   *\n   * @private\n   */\n  handleKeyDown(event) {\n    const lastIndex = this.elements.length - 1;\n\n    if(this.hasElement(event.target)) {\n      switch (event.which) {\n        case 13: // Enter\n        case 32: // Space\n          this.select();\n          event.preventDefault();\n          break;\n        case 35: // End\n          this.selectedIndex = lastIndex;\n          event.preventDefault();\n          break;\n        case 36: // Home\n          this.selectedIndex = 0;\n          event.preventDefault();\n          break;\n        case 37: // Left Arrow\n        case 38: // Up Arrow\n          this.selectedIndex = previousIndex(this.selectedIndex, lastIndex);\n          event.preventDefault();\n          break;\n        case 39: // Right Arrow\n        case 40: // Down Arrow\n          this.selectedIndex = nextIndex(this.selectedIndex, lastIndex);\n          event.preventDefault();\n          break;\n      }\n\n\n      updateTabbable(this.elements, this.selectedIndex);\n      this.elements[this.selectedIndex].focus();\n    }\n  };\n\n  /**\n   * Returns true if element is in list ov navigatable elements\n   *\n   * @param {Element|EventTarget} element\n   *\n   * @return {boolean}\n   */\n  hasElement(element) {\n    return this.elements.indexOf(element) !== -1;\n  }\n\n  /**\n   * Updates the selected index with the focused element\n   *\n   * @param {FocusEvent} event\n   */\n  handleFocus(event) {\n    this.selectedIndex = this.elements.indexOf(event.srcElement);\n  }\n\n  /**\n   * Sets the selected index, and updates the tab index\n   *\n   * @param {number} index\n   */\n  forceSelectedIndex(index) {\n    this.selectedIndex = index;\n    updateTabbable(this.elements, this.selectedIndex);\n  }\n\n  /**\n   * Triggers 'onSelect' function if it exists\n   */\n  select() {\n    if(this.onSelect != undefined) {\n      this.onSelect(this.elements[this.selectedIndex]);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/keyboard.js","import {attributeEquals, toggleAttribute, toggleVisibility, querySelectorAll } from '../utils/elements';\n\n/**\n * Returns true if aria-expanded=true on element\n *\n * @param {HTMLElement} element\n * @function\n */\nconst isExpanded = attributeEquals(\"aria-expanded\", 'true');\n\n/**\n * Toggles aria-hidden on 'collapsible' when aria-expanded changes on 'toggler',\n * and toggles aria-expanded on 'toggler' on click\n *\n * @param {HTMLElement} element\n * @param {function} [targetHandler] falls back to toggleVisibility with aria-hidden\n * @param {string} [togglerSelector]\n */\nexport const initCollapsible = (element, targetHandler = toggleVisibility, togglerSelector = '[aria-controls][aria-expanded]') => {\n  // elements\n  const togglers = querySelectorAll(togglerSelector, element);\n\n  togglers.forEach(toggler => {\n    const collapsibleId = toggler.getAttribute('aria-controls');\n    const collapsible = element.querySelector(`#${collapsibleId}`);\n\n    // set observer on title for aria-expanded\n    let observer = new MutationObserver(() => targetHandler(isExpanded(toggler), collapsible));\n\n    observer.observe(toggler, {\n      attributes: true,\n      attributeOldValue: true,\n      attributeFilter: [\"aria-expanded\"]\n    });\n\n    // Set click listener that toggles aria-expanded\n    toggler.addEventListener('click', () => toggleAttribute(\"aria-expanded\", toggler));\n\n    // initialize\n    targetHandler(isExpanded(toggler), collapsible);\n  });\n};\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/collapsible.js","import {setAttribute, removeAttribute, hasAttribute, classListContains, querySelector, nodeListToArray, querySelectorAll} from '../utils/elements';\nimport {curry, forEach} from '../utils/functional';\nimport Keyboard from '../utils/keyboard';\n\n/**\n * @constant\n */\nconst ATTRIBUTE_SHOW = 'data-show';\n\n/**\n * @constant\n * @type Object.<string, number>\n */\nconst KEY = {\n  TAB:    9,\n  ENTER: 13,\n  SHIFT: 16,\n  SPACE: 32\n};\n\n/**\n * @constant\n * @type Object.<string, number>\n */\nconst TAB_DIRECTION = {\n  FORWARD: 0,\n  BACKWARD: 1\n};\n\n/**\n * @function\n * @param {HTMLElement} element\n */\nconst show = (element) => element.classList.add('active');\n\n/**\n * @function\n * @param {HTMLElement} element\n */\nconst hide = (element) => {\n  element.classList.remove('active');\n  element.removeAttribute('aria-live');\n}\n\n/**\n * @function\n * @param {HTMLElement} element\n */\nconst live = setAttribute('aria-live', 'polite');\n\n/**\n * @function\n * @param {HTMLElement} element\n */\nconst enable = (element) => {\n  element.tabIndex = 0;\n  element.removeAttribute('aria-disabled');\n};\n\n/**\n * @function\n * @param {HTMLElement} element\n */\nconst disable = (element) => {\n  element.tabIndex = -1;\n  element.setAttribute('aria-disabled', 'true');\n};\n\n/**\n * @function\n * @param {HTMLElement} element\n */\nconst isDisabled = hasAttribute('aria-disabled');\n\n/**\n * @function\n * @param {HTMLElement} element\n * @param {boolean} force\n */\nconst toggleDisabled = (element, force) => (force ? disable : enable)(element);\n\n/**\n * @function\n * @param {HTMLElement} element\n * @param {boolean} force\n */\nconst toggleHidden = (element, force) => (force ? hide : show)(element);\n\n/**\n * @function\n * @param {HTMLElement} element\n * @param {number} imageIndex\n */\nconst showImageLightbox = curry((element, imageIndex) => setAttribute('data-show', imageIndex, element));\n\n/**\n * @function\n * @param {HTMLElement} element\n */\nconst hideLightbox = removeAttribute(ATTRIBUTE_SHOW);\n\n/**\n * Focus first element with tabindex from arguments\n *\n * @function\n * @param {...HTMLElement} elements\n */\nconst focus = (...elements) => {\n  for (let i = 0; i < elements.length; i++) {\n    if (elements[i].tabIndex !== -1) {\n      return elements[i].focus();\n    }\n  }\n}\n\n/**\n * Will toggle the siblings of the element visible or not.\n *\n * @function\n * @param {HTMLElement} element\n * @param {boolean} show\n */\nconst toggleSiblings = (element, show) => {\n  const siblings = element.parentNode.children;\n\n  for (let i = 0; i < siblings.length; i++) {\n    let sibling = siblings[i];\n\n    if (sibling === element) {\n      continue; // Not this element\n    }\n\n    if (show) {\n      sibling.removeAttribute('aria-hidden');\n    }\n    else {\n      sibling.setAttribute('aria-hidden', true);\n    }\n  }\n}\n\n/**\n * @type string\n */\nlet progressTemplateText;\n\n/**\n * Update the view\n *\n * @function\n * @param {HTMLElement} element\n * @param {ImageScrollerState} state\n * @param {boolean} setDialogFocus\n */\nconst updateView = (element, state) => {\n\n  const images = element.querySelectorAll('.imagelightbox-image');\n  const progress = element.querySelector('.imagelightbox-progress');\n  const prevButton = element.querySelector('.previous');\n  const nextButton = element.querySelector('.next');\n\n  // Hide all images\n  images.forEach(image => hide(image));\n  if (state.currentImage !== null) {\n    // Show selected image\n    const image = element.querySelector('.imagelightbox-image:nth-child(' + (state.currentImage + 1) + ')');\n\n    show(image);\n    live(image);\n  }\n\n  // Update progress text\n  if (!progressTemplateText) {\n    // Keep template for future updates\n    progressTemplateText = progress.innerText;\n  }\n  progress.innerText = progressTemplateText.replace(':num', state.currentImage + 1).replace(':total', images.length);\n\n  // Determine if buttons should be shown or hidden\n  toggleHidden(prevButton, !images.length);\n  toggleHidden(nextButton, !images.length);\n\n  // Determine if buttons should be enabled or disabled\n  toggleDisabled(prevButton, state.currentImage === 0);\n  toggleDisabled(nextButton, state.currentImage === images.length - 1);\n\n  // Determine if lightbox should be shown or hidden\n  toggleHidden(element, state.currentImage === null);\n  toggleSiblings(element, state.currentImage === null);\n\n};\n\n/**\n * Handles button clicked\n *\n * @function\n * @param {HTMLElement} element\n * @param {HTMLElement} button\n * @param {number} imageIndex\n */\nconst onNavigationButtonClick = (element, button, imageIndex) => {\n  if (!isDisabled(button)) {\n    showImageLightbox(element, imageIndex);\n  }\n};\n\n/**\n * @function\n */\nconst onButtonPress = (button, handler) => {\n  button.addEventListener('click', handler);\n  button.addEventListener('keypress', (event) => {\n    if (event.which === KEY.ENTER || event.which === KEY.SPACE) {\n      // Enter or space key pressed\n      handler();\n      event.preventDefault();\n    }\n  });\n}\n\n/**\n * Keep track of which keys are currently pressed.\n *\n * @type Object.<number, boolean>\n */\nconst keysDown = {};\n\n/**\n * Binds key listeners that traps focus when the lightbox is open.\n *\n * @function\n */\nconst onButtonTab = (button, direction, handler) => {\n  button.addEventListener('keydown', (event) => {\n    // Keep track of which keys are currently pressed\n    keysDown[event.which] = true;\n\n    if (event.which === KEY.TAB) {\n      // Tab key press\n\n      if (keysDown[KEY.SHIFT]) {\n        if (direction === TAB_DIRECTION.BACKWARD) {\n          // Shift is down, tab backward\n          handler();\n          event.preventDefault();\n        }\n      }\n      else {\n        if (direction === TAB_DIRECTION.FORWARD) {\n          // Tab forward\n          handler();\n          event.preventDefault();\n        }\n      }\n    }\n  });\n  button.addEventListener('keyup', (event) => {\n    delete keysDown[event.which];\n  });\n}\n\n/**\n * Callback for when the dom is updated\n *\n * @function\n * @param {HTMLElement} element\n * @param {ImageLightboxState} state\n * @param {Keyboard} keyboard\n * @param {MutationRecord} record\n */\nconst handleDomUpdate = curry((element, state, keyboard, record) => {\n\n  if (record.type === 'attributes' &&\n      record.attributeName === ATTRIBUTE_SHOW) {\n\n    var showImage = parseInt(record.target.getAttribute(ATTRIBUTE_SHOW));\n\n    // update the view\n    updateView(element, Object.assign(state, {\n      currentImage: isNaN(showImage) ? null : showImage\n    }));\n  }\n\n});\n\n/**\n * Initializes a panel\n *\n * @function\n * @param {HTMLElement} element\n * @return {HTMLElement}\n */\nexport default function init(element) {\n  // get button html elements\n  const nextButton = element.querySelector('.next');\n  const prevButton = element.querySelector('.previous');\n  const closeButton = element.querySelector('.close');\n  const keyboard = new Keyboard();\n\n  /**\n   * @typedef {object} ImageLightboxState\n   * @property {number} currentImage Index of image to display\n   */\n  const state = {\n    currentImage: false\n  };\n\n  // initialize buttons\n  onButtonPress(nextButton, () => onNavigationButtonClick(element, nextButton, state.currentImage + 1));\n  onButtonTab(nextButton, TAB_DIRECTION.BACKWARD, () => focus(closeButton));\n\n  onButtonPress(prevButton, () => onNavigationButtonClick(element, prevButton, state.currentImage - 1));\n  onButtonTab(prevButton, TAB_DIRECTION.BACKWARD, () => focus(nextButton, closeButton));\n\n  onButtonPress(closeButton, () => hideLightbox(element));\n  onButtonTab(closeButton, TAB_DIRECTION.FORWARD, () => focus(nextButton, prevButton));\n\n  // listen for updates to data-size\n  let observer = new MutationObserver(forEach(handleDomUpdate(element, state, keyboard)));\n\n  observer.observe(element, {\n    subtree: false,\n    childList: false,\n    attributes: true,\n    attributeOldValue: true,\n    attributeFilter: [ATTRIBUTE_SHOW]\n  });\n\n  return element;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/image-lightbox.js","import { setAttribute, removeAttribute, hasAttribute, classListContains, querySelector, nodeListToArray, querySelectorAll } from '../utils/elements';\nimport {curry, forEach} from '../utils/functional';\nimport Keyboard from '../utils/keyboard';\n\n/**\n * @constant\n */\nconst ATTRIBUTE_SIZE = 'data-size';\n\n/**\n * @type {function}\n */\nconst disable = setAttribute('disabled', '');\n\n/**\n * @type {function}\n */\nconst enable = removeAttribute('disabled');\n\n/**\n * @param {HTMLElement} element\n * @param {boolean} enabled\n */\nconst toggleEnabled = (element, enabled) => (enabled ? enable : disable)(element);\n\n/**\n * @param {HTMLElement} element\n * @param {boolean} hidden\n */\nconst toggleVisibility = curry((hidden, element) => setAttribute('aria-hidden', hidden.toString(), element));\n\n/**\n * @type {function}\n */\nconst isDisabled = hasAttribute('disabled');\n\n/**\n * @type {function}\n */\nconst showImageLightbox = curry((lightbox, imageIndex) => setAttribute('data-show', imageIndex, lightbox));\n\n/**\n * Update the view\n *\n * @param {HTMLElement} element\n * @param {ImageScrollerState} state\n */\nconst updateView = (element, state) => {\n  const prevButton = element.querySelector('.previous');\n  const nextButton = element.querySelector('.next');\n  const list = element.querySelector('ul');\n  const totalCount = list.childElementCount;\n\n  // update list sizes\n  list.style.width = `${100 / state.displayCount * totalCount}%`;\n  list.style.marginLeft = `${state.position * (100 / state.displayCount)}%`;\n\n  // update image sizes\n  querySelectorAll('li', element)\n    .forEach(element => element.style.width = `${100 / totalCount}%`);\n\n  // toggle button visibility\n  [prevButton, nextButton]\n    .forEach(toggleVisibility(state.displayCount >= totalCount));\n\n  // toggle button enable, disabled\n  toggleEnabled(nextButton, state.position > (state.displayCount - totalCount));\n  toggleEnabled(prevButton, state.position < 0);\n};\n\n/**\n * Handles button clicked\n *\n * @param {HTMLElement} element\n * @param {ImageScrollerState} state\n * @param {HTMLElement} button\n * @param {function} updateState\n *\n * @function\n */\nconst onNavigationButtonClick = (element, state, button, updateState) => {\n  if(!isDisabled(button)){\n    updateState(state);\n    updateView(element, state);\n  }\n};\n\n/**\n * Initializes an image\n *\n * @param {HTMLElement} element\n * @param {HTMLElement} image\n *\n * @function\n * @return {HTMLElement}\n */\nconst initImage = curry((element, keyboard, image, imageIndex) => {\n  let targetId = image.getAttribute('aria-controls');\n  let lightBox = document.querySelector(`#${targetId}`);\n\n  image.addEventListener('click', event => showImageLightbox(lightBox, imageIndex));\n\n  keyboard.addElement(image);\n\n  return image;\n});\n\n/**\n * Callback for when the dom is updated\n *\n * @param {HTMLElement} element\n * @param {ImageScrollerState} state\n * @param {MutationRecord} record\n * @function\n */\nconst handleDomUpdate = curry((element, state, keyboard, record) => {\n  // on add image run initialization\n  if(record.type === 'childList') {\n    nodeListToArray(record.addedNodes)\n      .filter(classListContains('slide'))\n      .map(querySelector('img'))\n      .filter(image => image !== null)\n      .forEach(initImage(element, keyboard));\n  }\n\n  // update the view\n  updateView(element, Object.assign(state, {\n    displayCount: element.getAttribute(ATTRIBUTE_SIZE) || 5,\n    position: 0\n  }));\n});\n\n/**\n * Initializes a panel\n *\n * @param {HTMLElement} element\n * @return {HTMLElement}\n */\nexport default function init(element) {\n  // get button html elements\n  const nextButton = element.querySelector('.next');\n  const prevButton = element.querySelector('.previous');\n  const keyboard = new Keyboard();\n\n  /**\n   * @typedef {object} ImageScrollerState\n   * @property {number} displayCount\n   * @property {number} position\n   */\n  const state = {\n    displayCount: element.getAttribute(ATTRIBUTE_SIZE) || 5,\n    position: 0\n  };\n\n  // initialize buttons\n  nextButton.addEventListener('click', () => onNavigationButtonClick(element, state, nextButton, state => state.position--));\n  prevButton.addEventListener('click', () => onNavigationButtonClick(element, state, prevButton, state => state.position++));\n\n  // initialize images\n  querySelectorAll('[aria-controls]', element)\n    .forEach(initImage(element, keyboard));\n\n  // listen for updates to data-size\n  let observer = new MutationObserver(forEach(handleDomUpdate(element, state, keyboard)));\n\n  observer.observe(element, {\n    subtree: true,\n    childList: true,\n    attributes: true,\n    attributeOldValue: true,\n    attributeFilter: [ATTRIBUTE_SIZE]\n  });\n\n  // initialize position\n  updateView(element, state);\n\n  return element;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/image-scroller.js","import { hide, show } from '../utils/elements';\n\n/**\n * Initiates a modal window\n *\n * @param {HTMLElement} element\n */\nexport default function init(element) {\n  const dismissButtons = element.querySelectorAll('[data-dismiss=\"modal\"]');\n  hide(element);\n  dismissButtons.forEach(button => button.addEventListener('click', () => hide(element)))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/modal.js","import { setAttribute, removeAttribute, querySelectorAll, toggleClass } from '../utils/elements';\nimport { forEach } from '../utils/functional';\nimport { initCollapsible } from '../utils/collapsible';\nimport Keyboard from '../utils/keyboard';\n\n/**\n * Unselects all elements in an array\n *\n * @param {HTMLElement[]} elements\n * @function\n */\nconst unSelectAll = forEach(removeAttribute('aria-selected'));\n\n/**\n * Sets the aria-expanded attribute on an element to false\n *\n * @param {HTMLElement} element\n */\nconst unExpand = setAttribute('aria-expanded', 'false');\n\n/**\n * Selects an element, and un selects all other menu items\n *\n * @param {HTMLElement[]} menuItems\n * @param {HTMLElement} element\n * @function\n */\nconst onSelectMenuItem = (menuItems, element) => {\n  unSelectAll(menuItems);\n  element.setAttribute('aria-selected', 'true');\n};\n\n/**\n * Initiates a tab panel\n *\n * @param {HTMLElement} element\n */\nexport default function init(element) {\n  // elements\n  const menuItems = querySelectorAll('[role=\"menuitem\"]', element);\n  const toggler = element.querySelector('[aria-controls][aria-expanded]');\n  const keyboard = new Keyboard();\n\n  keyboard.onSelect = element => {\n    onSelectMenuItem(menuItems, element);\n    unExpand(toggler);\n  };\n\n  // move select\n  menuItems.forEach(menuItem => {\n    // add mouse click listener\n    menuItem.addEventListener('click', event => {\n      let element = event.target;\n      let elementIndex = menuItems.indexOf(element);\n\n      onSelectMenuItem(menuItems, element);\n      unExpand(toggler);\n      keyboard.forceSelectedIndex(elementIndex);\n    });\n\n    // add keyboard support\n    keyboard.addElement(menuItem);\n  });\n\n  // init collapse and open\n  initCollapsible(element, (expanded, el) => toggleClass('collapsed', !expanded, el));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/navbar.js","import { initCollapsible } from '../utils/collapsible';\nimport Keyboard from '../utils/keyboard';\nimport { toggleAttribute, querySelectorAll, toggleVisibility } from '../utils/elements';\n\n/**\n * Initializes a panel\n *\n * @param {HTMLElement} element\n * @return {HTMLElement}\n */\nexport default function init(element) {\n  const keyboard = new Keyboard();\n  const togglerSelector = '[role=\"heading\"] [aria-controls][aria-expanded]';\n  keyboard.onSelect = el => toggleAttribute('aria-expanded', el);\n\n  // collapse/expand on header press\n  initCollapsible(element, (expanded, element) => toggleVisibility(expanded, element), togglerSelector);\n\n  // Add keyboard support to expand collapse\n  querySelectorAll(togglerSelector, element)\n    .forEach(el => keyboard.addElement(el));\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/panel.js","import {setAttribute, removeAttribute, attributeEquals, querySelectorAll } from '../utils/elements';\nimport {curry, forEach} from '../utils/functional';\nimport Keyboard from '../utils/keyboard';\n\n/**\n * @function\n */\nconst hideAll = forEach(setAttribute('aria-hidden', 'true'));\n\n/**\n * @function\n */\nconst show = setAttribute('aria-hidden', 'false');\n\n/**\n * @function\n */\nconst isSelected = attributeEquals('aria-selected', 'true');\n\n/**\n * @function\n */\nconst unSelectAll = forEach(removeAttribute('aria-selected'));\n\n/**\n * Change tab panel when tab's aria-selected is changed\n *\n * @param {HTMLElement} element\n * @param {HTMLElement} tab\n */\nconst addAriaSelectedObserver = (element, tab) => {\n  // set observer on title for aria-expanded\n  let observer = new MutationObserver(() => {\n    let panelId = tab.getAttribute('aria-controls');\n    let panel = element.querySelector(`#${panelId}`);\n    let allPanels = querySelectorAll('[role=\"tabpanel\"]', element);\n\n    if(isSelected(tab)) {\n      hideAll(allPanels);\n      show(panel);\n    }\n  });\n\n  observer.observe(tab, {\n    attributes: true,\n    attributeOldValue: true,\n    attributeFilter: [\"aria-selected\"]\n  });\n};\n\n/**\n * Selects an element, and unselects all other tabs\n *\n * @param {HTMLElement[]} allTabs\n * @param {HTMLElement} element\n * @function\n */\nconst selectTab = curry((allTabs, element) => {\n  unSelectAll(allTabs);\n  element.setAttribute('aria-selected', 'true');\n});\n\n/**\n * Initiates a tab panel\n *\n * @param {HTMLElement} element\n */\nexport default function init(element) {\n  const tabs = querySelectorAll('[role=\"tab\"]', element);\n  const keyboard = new Keyboard();\n\n  // handle enter + space click\n  keyboard.onSelect = selectTab(tabs);\n\n  // init tabs\n  tabs.forEach(tab => {\n    addAriaSelectedObserver(element, tab);\n\n    tab.addEventListener('click', event => {\n      let element = event.target;\n      let elementIndex = tabs.indexOf(element);\n      selectTab(tabs, element);\n      keyboard.forceSelectedIndex(elementIndex);\n    });\n\n    keyboard.addElement(tab);\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/tab-panel.js","/**\n * Initiates an upload form and adds logic\n * to bind the elements together.\n *\n * @param {HTMLElement} element\n */\nexport default function init(element) {\n  const uploadInput =  element.querySelector('.upload input[type=\"file\"]');\n  const uploadPath = element.querySelector('.upload-path');\n  const useButton =  element.querySelector('.use-button');\n  uploadInput.onchange = function () {\n    if (this.value !== '') {\n\n      // Replace the placeholder text with the selected filepath\n      uploadPath.value = this.value.replace('C:\\\\fakepath\\\\', '');\n\n      // Only show the 'use' button once a file has been selected\n      useButton.style.display = 'inline-block';\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/components/upload-form.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles/main.scss\n// module id = 11\n// module chunks = 0","require('../../src/styles/main.scss');\n\n// Load library\nH5P = H5P || {};\nH5P.sdk = H5P.sdk || {};\nH5P.sdk.initPanel = require('../scripts/components/panel').default;\nH5P.sdk.initTabPanel = require('../scripts/components/tab-panel').default;\nH5P.sdk.initNavbar = require('../scripts/components/navbar').default;\nH5P.sdk.initImageScroller = require('../scripts/components/image-scroller').default;\nH5P.sdk.initImageLightbox = require('../scripts/components/image-lightbox').default;\nH5P.sdk.initUploadForm = require('../scripts/components/upload-form').default;\nH5P.sdk.initModal = require('../scripts/components/modal').default;\n\n\n\n// WEBPACK FOOTER //\n// ./src/entries/dist.js"],"sourceRoot":""}